
<div class="card bg-base-300 shadow-xl w-96 m-auto">

  @if (step === Step.START) {
    <div class="card-body">
      <div class="card-title">
        <p>Enn√©l valamit?</p>
      </div>
      <div class="card-actions justify-end">
        <button class="btn btn-primary" (click)="chooseYesOrNo(true)">Igen</button>
        <button class="btn" (click)="chooseYesOrNo(false)">Nem</button>
      </div>
    </div>
  }

  @if (step === Step.GIF) {
    <div class="card-body">
      <div class="card-title">
        <p>Noice! Have a nice day üéâ</p>
      </div>
      <div class="card-actions justify-end">
        <button class="btn btn-primary" (click)="reset()">√öjra</button>
      </div>
    </div>
  }

  @if (step === Step.HUNGER_CHECK) {
    <div class="card-body">
      <div class="card-title">
        <p>√âhes vagy, vagy csak unatkozol?</p>
      </div>
      <div class="card-actions justify-end">
        <button class="btn btn-primary" (click)="hungerCheck('√âhes vagyok')">√âhes vagyok</button>
        <button class="btn" (click)="hungerCheck('Unatkozom')">Unatkozom</button>
      </div>
    </div>
  }

  @if (step === Step.UNBORED_TIPS) {
    <div class="card-body">
      <div class="card-title">
        <p>S√©t√°lj, igy√°l egy te√°t, n√©zz egy YouTube vide√≥t, olvass.</p>
      </div>
      <div class="card-actions justify-end">
        <button class="btn btn-active" (click)="reset()">√öjra</button>
      </div>
    </div>
  }

  @if (step === Step.MEAL_TYPE) {
    <div class="card-body">
      <div class="card-title">
        <p>Mit enn√©l?</p>
      </div>
      <div class="card-actions flex flex-wrap gap-2 justify-end">
        <button class="btn" (click)="chooseMeal('Reggeli')">Reggeli</button>
        <button class="btn" (click)="chooseMeal('Eb√©d')">Eb√©d</button>
        <button class="btn" (click)="chooseMeal('Vacsora')">Vacsora</button>
        <button class="btn" (click)="chooseMeal('Nasi')">Nasi</button>
      </div>
    </div>
  }

  @if (step === Step.SWEET_OR_SALTY) {
    <div class="card-body">
      <div class="card-title">
        <p>√âdeset, vagy s√≥sat?</p>
      </div>
      <div class="card-actions justify-end">
        <button class="btn" (click)="chooseTaste('√âdes')">√âdes</button>
        <button class="btn" (click)="chooseTaste('S√≥s')">S√≥s</button>
      </div>
    </div>
  }

  @if (step === Step.FOOD_SUGGESTIONS) {
    @if (selectedMeal === 'Nasi') {
      <div class="card-body">
        <div class="card-title">
          <p>Mit szeretn√©l a nasib√≥l?</p>
        </div>
        <div class="card-actions justify-end flex flex-wrap gap-2">
          <button class="btn" (click)="showFruits()">Joghurt gy√ºmivel/m√°kkal</button>
          <button class="btn" (click)="showNuts()">Egy kis mar√©k olajos mag</button>
        </div>
      </div>
    }

    @if (selectedMeal === 'Reggeli' || selectedMeal === 'Vacsora') {
      @if (selectedTaste === '√âdes') {
        <div class="card-body">
          <div class="card-title">
            <p>Aj√°nlott √©des √©telek:</p>
          </div>
          <ul class="list-disc list-inside">
            @for (meal of meals; track meal) {
              <li>
                <svg xmlns="http://www.w3.org/2000/svg" class="size-4 me-2 inline-block text-success" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg>
                {{ meal.hu.name }}
              </li>
            }
          </ul>
          <div class="card-actions justify-end mt-2">
            <button class="btn" (click)="reset()">√öjra</button>
          </div>
        </div>
      }
      @if (selectedTaste === 'S√≥s') {
        <div class="card-body">
          <div class="card-title">
            <p>Aj√°nlott s√≥s √©telek:</p>
          </div>
          <ul class="list-disc list-inside">
            @for (meal of meals; track meal) {
              <li>{{ meal.hu.name }}</li>
            }
          </ul>
          <div class="card-actions justify-end mt-2">
            <button class="btn" (click)="reset()">√öjra</button>
          </div>
        </div>
      }
    }
  }

  @if (step === Step.NASI_FRUIT) {
    <div class="card-body">
      <div class="card-title">
        <p>El√©rhet≈ë gy√ºm√∂lcs√∂k:</p>
      </div>
      <ul class="list-disc list-inside">
        @for (fruit of fruits; track fruit) {
          <li>{{ fruit.hu.name }}</li>
        }
      </ul>
      <div class="card-actions justify-end mt-2">
        <button class="btn" (click)="reset()">√öjra</button>
      </div>
    </div>
  }

  @if (step === Step.NASI_NUTS) {
    <div class="card-body">
      <div class="card-title">
        <p>El√©rhet≈ë magvak:</p>
      </div>
      <ul class="list-disc list-inside">
        @for (nut of nuts; track nut) {
          <li>{{ nut.hu.name }}</li>
        }
      </ul>
      <div class="card-actions justify-end mt-2">
        <button class="btn" (click)="reset()">√öjra</button>
      </div>
    </div>
  }

  @if (step === Step.LUNCH_FOOD_AVAILABLE) {
    <div class="card-body">
      <div class="card-title">
        <p>Van √©tel a h≈±t≈ëben?</p>
      </div>
      <div class="card-actions justify-end">
        <button class="btn btn-primary" (click)="foodInFridge(true)">Igen</button>
        <button class="btn" (click)="foodInFridge(false)">Nem</button>
      </div>
    </div>
  }

  @if (step === Step.LUNCH_EAT_IT) {
    <div class="card-body">
      <div class="card-title">
        <p>Megenn√©d?</p>
      </div>
      <div class="card-actions justify-end">
        <button class="btn btn-primary" (click)="eatIt(true)">Igen</button>
        <button class="btn" (click)="eatIt(false)">Nem</button>
      </div>
    </div>
  }

  @if (step === Step.LUNCH_COOK_SOMETHING) {
    <div class="card-body">
      <div class="card-title">
        <p>Van kedved gyorsan √∂sszedobni valamit?</p>
      </div>
      <div class="card-actions justify-end">
        <button class="btn btn-primary" (click)="cookSomething(true)">Igen</button>
        <button class="btn" (click)="cookSomething(false)">Nem</button>
      </div>
    </div>
  }

  @if (step === Step.LUNCH_MEAL_TYPE) {
    <div class="card-body">
      <div class="card-title">
        <p>V√°lassz egy √©telt√≠pust:</p>
      </div>
      <div class="card-actions flex flex-wrap gap-2 justify-end">
        <button class="btn" (click)="chooseLunchType('Leves')">Leves</button>
        <button class="btn" (click)="chooseLunchType('Ragu')">Ragu</button>
        <button class="btn" (click)="chooseLunchType('S√ºlt')">S√ºlt</button>
        <button class="btn" (click)="chooseLunchType('Rakott')">Rakott</button>
      </div>
    </div>
  }

  @if (step === Step.LUNCH_VEGGIES) {
    <div class="card-body">
      <div class="card-title">
        <p>V√°lassz z√∂lds√©geket:</p>
      </div>
      <ul class="space-y-1">
        @for (veg of veggies; track veg) {
          <li>
            <label class="label cursor-pointer">
              <input type="checkbox" class="checkbox checkbox-sm me-2" [checked]="false">
              {{ veg.hu.name }}
            </label>
          </li>
        }
      </ul>
      <div class="card-actions justify-end mt-2">
        <button class="btn btn-primary" (click)="nextLunchStep()">Tov√°bb</button>
      </div>
    </div>
  }

  @if (step === Step.LUNCH_PROTEIN) {
    <div class="card-body">
      <div class="card-title">
        <p>V√°lassz egy feh√©rj√©t:</p>
      </div>
      <ul class="space-y-1">
        @for (protein of proteins; track protein) {
          <li>
            <label class="label cursor-pointer">
              <input type="radio" name="protein" class="radio radio-sm me-2" [(ngModel)]="selectedProtein" [value]="protein.hu.name" />
              {{ protein.hu.name }}
            </label>
          </li>
        }
      </ul>
      <div class="card-actions justify-end mt-2">
        <button class="btn btn-primary" (click)="nextLunchStep()">Tov√°bb</button>
      </div>
    </div>
  }

  @if (step === Step.LUNCH_CARB) {
    <div class="card-body">
      <div class="card-title">
        <p>V√°lassz egy sz√©nhidr√°tot:</p>
      </div>
      <ul class="space-y-1">
        @for (carb of carbs; track carb) {
          <li>
            <label class="label cursor-pointer">
              <input type="radio" name="carb" class="radio radio-sm me-2" [(ngModel)]="selectedCarb" [value]="carb.hu.name" />
              {{ carb.hu.name }}
            </label>
          </li>
        }
      </ul>
      <div class="card-actions justify-end mt-2">
        <button class="btn btn-primary" (click)="nextLunchStep()">Tov√°bb</button>
      </div>
    </div>
  }

  @if (step === Step.LUNCH_LEGUME) {
    <div class="card-body">
      <div class="card-title">
        <p>V√°lassz egy h√ºvelyest:</p>
      </div>
      <ul class="space-y-1">
        @for (legume of legumes; track legume) {
          <li>
            <label class="label cursor-pointer">
              <input type="radio" name="legume" class="radio radio-sm me-2" [(ngModel)]="selectedLegume" [value]="legume.hu.name" />
              {{ legume.hu.name }}
            </label>
          </li>
        }
      </ul>
      <div class="card-actions justify-end mt-2">
        <button class="btn btn-success" (click)="finishLunch()">K√©sz</button>
      </div>
    </div>
  }

  @if (step === Step.LUNCH_DONE) {
    <div class="card-body">
      <div class="card-title">
        <p>J√≥ √©tv√°gyat! üçΩÔ∏è</p>
      </div>
      <div class="card-actions justify-end">
        <button class="btn" (click)="reset()">√öjra</button>
      </div>
    </div>
  }

</div>

<div class="absolute bottom-0 footer-center h-8">
  <p>An app to help my boyfriend decide what to eat ‚Äî because <b>‚ÄúI don‚Äôt know, you pick‚Äù</b> shouldn‚Äôt be a 3-hour conversation.</p>
</div>
